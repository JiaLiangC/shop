# Logfile created on 2018-01-15 18:29:28 +0800 by logger.rb/61378
2018-01-29T10:04:05.869Z 30015 TID-ow203z298 INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-30015"}
2018-01-29T10:04:06.261Z 30015 TID-ow203z298 INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:04:06.261Z 30015 TID-ow203z298 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:04:06.261Z 30015 TID-ow203z298 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:04:06.270Z 30015 TID-ow203z298 INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:04:06.293Z 30015 TID-ow210b8x4 CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:04:06.294Z 30015 TID-ow210b8r0 CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:04:06.297Z 30015 TID-ow210b8r0 CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.003 sec
2018-01-29T10:04:06.297Z 30015 TID-ow210b8r0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517219676.393654,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517219676.393654}"}
2018-01-29T10:04:06.298Z 30015 TID-ow210b8x4 CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.005 sec
2018-01-29T10:04:06.298Z 30015 TID-ow210b8r0 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:06.299Z 30015 TID-ow210b8x4 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517219490.549429,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517219490.549429}"}
2018-01-29T10:04:06.299Z 30015 TID-ow210b8x4 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:06.299Z 30015 TID-ow210b8r0 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:06.299Z 30015 TID-ow210b8x4 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:06.300Z 30015 TID-ow20soqjk CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:04:06.300Z 30015 TID-ow20xyotc CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:04:06.302Z 30015 TID-ow20soqjk CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.002 sec
2018-01-29T10:04:06.303Z 30015 TID-ow20xyotc CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.002 sec
2018-01-29T10:04:06.303Z 30015 TID-ow20soqjk WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517219760.4382238,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517219760.4382238}"}
2018-01-29T10:04:06.303Z 30015 TID-ow20soqjk WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:06.303Z 30015 TID-ow20xyotc WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517219972.764809,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517219972.764809}"}
2018-01-29T10:04:06.303Z 30015 TID-ow20soqjk WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:06.303Z 30015 TID-ow20xyotc WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:06.303Z 30015 TID-ow20xyotc WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:06.305Z 30015 TID-ow20sku1s CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:04:06.306Z 30015 TID-ow20sku1s CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.001 sec
2018-01-29T10:04:06.306Z 30015 TID-ow20sku1s WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220052.094184,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220052.094184}"}
2018-01-29T10:04:06.306Z 30015 TID-ow20sku1s WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:06.306Z 30015 TID-ow20sku1s WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:37.933Z 30015 TID-ow20skuok CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:04:37.936Z 30015 TID-ow20skuok CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.003 sec
2018-01-29T10:04:37.937Z 30015 TID-ow20xvg5c CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:04:37.937Z 30015 TID-ow20skuok WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517220277.932141,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":1,"retried_at":1517220277.9361122},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517220277.932141,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.298184,\"retry_count\":0}"}
2018-01-29T10:04:37.938Z 30015 TID-ow20skuok WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:37.939Z 30015 TID-ow20skuok WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:37.940Z 30015 TID-ow20xvg5c CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.003 sec
2018-01-29T10:04:37.941Z 30015 TID-ow20sby40 CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:04:37.941Z 30015 TID-ow20xvg5c WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517220277.935046,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":1,"retried_at":1517220277.939829},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517220277.935046,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.301684,\"retry_count\":0}"}
2018-01-29T10:04:37.941Z 30015 TID-ow20xvg5c WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:37.941Z 30015 TID-ow20xvg5c WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:37.942Z 30015 TID-ow20sby40 CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.002 sec
2018-01-29T10:04:37.943Z 30015 TID-ow20sby40 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220277.937088,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":1,"retried_at":1517220277.942386},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220277.937088,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3062122,\"retry_count\":0}"}
2018-01-29T10:04:37.943Z 30015 TID-ow20sby40 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:37.943Z 30015 TID-ow20sby40 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:54.938Z 30015 TID-ow20s7xvs CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:04:54.941Z 30015 TID-ow20s9fz0 CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:04:54.943Z 30015 TID-ow20s7xvs CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.005 sec
2018-01-29T10:04:54.944Z 30015 TID-ow20s9fz0 CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.002 sec
2018-01-29T10:04:54.944Z 30015 TID-ow20s7xvs WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517220294.938019,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":1,"retried_at":1517220294.9430048},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517220294.938019,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3025742,\"retry_count\":0}"}
2018-01-29T10:04:54.944Z 30015 TID-ow20s9fz0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517220294.939878,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":1,"retried_at":1517220294.943702},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517220294.939878,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.2970722,\"retry_count\":0}"}
2018-01-29T10:04:54.944Z 30015 TID-ow20s7xvs WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:54.944Z 30015 TID-ow20s9fz0 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:04:54.944Z 30015 TID-ow20s7xvs WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:04:54.944Z 30015 TID-ow20s9fz0 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:05:08.729Z 30015 TID-ow203z298 INFO: Shutting down
2018-01-29T10:05:08.729Z 30015 TID-ow203z298 INFO: Terminating quiet workers
2018-01-29T10:05:08.730Z 30015 TID-ow210c00o INFO: Scheduler exiting...
2018-01-29T10:05:08.832Z 30015 TID-ow203z298 INFO: Pausing to allow workers to finish...
2018-01-29T10:05:09.557Z 30015 TID-ow203z298 INFO: Bye!
2018-01-29T10:05:23.657Z 30377 TID-oup4i01gc INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-30377"}
2018-01-29T10:05:23.988Z 30377 TID-oup4i01gc INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:05:23.988Z 30377 TID-oup4i01gc INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:05:23.988Z 30377 TID-oup4i01gc INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:05:23.998Z 30377 TID-oup4i01gc INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:05:36.527Z 30377 TID-oup4smltc CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:05:36.528Z 30377 TID-oup4smm1o CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:05:36.541Z 30377 TID-oup4smm1o CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.012 sec
2018-01-29T10:05:36.541Z 30377 TID-oup4smm1o WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517220336.527571,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":2,"retried_at":1517220336.5400288},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517220336.527571,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.301684,\"retry_count\":1,\"retried_at\":1517220277.939829}"}
2018-01-29T10:05:36.541Z 30377 TID-oup4smm1o WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:05:36.542Z 30377 TID-oup4smltc CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.015 sec
2018-01-29T10:05:36.542Z 30377 TID-oup4smm1o WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:05:36.542Z 30377 TID-oup4smltc WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517220336.524993,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":2,"retried_at":1517220336.541748},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517220336.524993,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.298184,\"retry_count\":1,\"retried_at\":1517220277.9361122}"}
2018-01-29T10:05:36.543Z 30377 TID-oup4smltc WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:05:36.543Z 30377 TID-oup4smltc WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:05:50.707Z 30377 TID-oup56qoxc CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:05:50.709Z 30377 TID-oup56q0k4 CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:05:50.712Z 30377 TID-oup56q0k4 CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.003 sec
2018-01-29T10:05:50.712Z 30377 TID-oup56qoxc CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.006 sec
2018-01-29T10:05:50.713Z 30377 TID-oup56q0k4 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220350.7082949,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":2,"retried_at":1517220350.7109592},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220350.7082949,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3062122,\"retry_count\":1,\"retried_at\":1517220277.942386}"}
2018-01-29T10:05:50.713Z 30377 TID-oup56qoxc WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517220350.7057102,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":2,"retried_at":1517220350.71031},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517220350.7057102,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3025742,\"retry_count\":1,\"retried_at\":1517220294.9430048}"}
2018-01-29T10:05:50.714Z 30377 TID-oup56q0k4 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:05:50.714Z 30377 TID-oup56qoxc WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:05:50.714Z 30377 TID-oup56q0k4 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:05:50.714Z 30377 TID-oup56qoxc WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:05:50.715Z 30377 TID-oup539x7o CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:05:50.716Z 30377 TID-oup539x7o CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.002 sec
2018-01-29T10:05:50.717Z 30377 TID-oup539x7o WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517220350.711772,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":2,"retried_at":1517220350.716388},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517220350.711772,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.2970722,\"retry_count\":1,\"retried_at\":1517220294.943702}"}
2018-01-29T10:05:50.717Z 30377 TID-oup539x7o WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:05:50.717Z 30377 TID-oup539x7o WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:06:24.138Z 30377 TID-oup561now CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:06:24.140Z 30377 TID-oup561now CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.002 sec
2018-01-29T10:06:24.141Z 30377 TID-oup561now WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517220384.136805,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":3,"retried_at":1517220384.139922},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517220384.136805,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.298184,\"retry_count\":2,\"retried_at\":1517220336.541748}"}
2018-01-29T10:06:24.141Z 30377 TID-oup561now WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:06:24.141Z 30377 TID-oup561now WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:06:24.143Z 30377 TID-oup538izc CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:06:24.144Z 30377 TID-oup538izc CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.001 sec
2018-01-29T10:06:24.144Z 30377 TID-oup538izc WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517220384.1406348,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":3,"retried_at":1517220384.143693},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517220384.1406348,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.301684,\"retry_count\":2,\"retried_at\":1517220336.5400288}"}
2018-01-29T10:06:24.144Z 30377 TID-oup538izc WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:06:24.144Z 30377 TID-oup538izc WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:06:54.154Z 30377 TID-oup55mekk CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:06:54.156Z 30377 TID-oup55mekk CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.002 sec
2018-01-29T10:06:54.156Z 30377 TID-oup55mekk WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517220414.153004,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":3,"retried_at":1517220414.155964},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517220414.153004,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3025742,\"retry_count\":2,\"retried_at\":1517220350.71031}"}
2018-01-29T10:06:54.156Z 30377 TID-oup55mekk WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:06:54.156Z 30377 TID-oup55mekk WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:07:16.165Z 30377 TID-oup54s44g CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:07:16.271Z 30377 TID-oup54s44g CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.105 sec
2018-01-29T10:07:16.271Z 30377 TID-oup54s44g WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517220436.164741,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":3,"retried_at":1517220436.268998},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517220436.164741,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.2970722,\"retry_count\":2,\"retried_at\":1517220350.716388}"}
2018-01-29T10:07:16.271Z 30377 TID-oup54s44g WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:07:16.271Z 30377 TID-oup54s44g WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:07:33.399Z 30377 TID-oup52rkck CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:07:33.494Z 30377 TID-oup52rkck CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.095 sec
2018-01-29T10:07:33.494Z 30377 TID-oup52rkck WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220453.396184,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":3,"retried_at":1517220453.4941142},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220453.396184,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3062122,\"retry_count\":2,\"retried_at\":1517220350.7109592}"}
2018-01-29T10:07:33.494Z 30377 TID-oup52rkck WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:07:33.494Z 30377 TID-oup52rkck WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:08:20.882Z 30377 TID-oup5cfs24 CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:08:20.883Z 30377 TID-oup5cfs24 CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.001 sec
2018-01-29T10:08:20.883Z 30377 TID-oup5cfs24 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517220500.881103,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":4,"retried_at":1517220500.883137},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517220500.881103,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.298184,\"retry_count\":3,\"retried_at\":1517220384.139922}"}
2018-01-29T10:08:20.884Z 30377 TID-oup5cfs24 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:08:20.884Z 30377 TID-oup5cfs24 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:08:39.356Z 30377 TID-oup4ptbh0 CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:08:39.366Z 30377 TID-oup4ptbh0 CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.01 sec
2018-01-29T10:08:39.366Z 30377 TID-oup4ptbh0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517220519.3552058,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":4,"retried_at":1517220519.365432},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517220519.3552058,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.301684,\"retry_count\":3,\"retried_at\":1517220384.143693}"}
2018-01-29T10:08:39.366Z 30377 TID-oup4ptbh0 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:08:39.366Z 30377 TID-oup4ptbh0 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:08:54.892Z 30377 TID-oup54l5co CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:08:54.901Z 30377 TID-oup54l5co CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.009 sec
2018-01-29T10:08:54.901Z 30377 TID-oup54l5co WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517220534.891104,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":4,"retried_at":1517220534.900396},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517220534.891104,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3025742,\"retry_count\":3,\"retried_at\":1517220414.155964}"}
2018-01-29T10:08:54.901Z 30377 TID-oup54l5co WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:08:54.901Z 30377 TID-oup54l5co WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:09:31.506Z 30377 TID-oup4i01gc INFO: Shutting down
2018-01-29T10:09:31.514Z 30377 TID-oup4i01gc INFO: Terminating quiet workers
2018-01-29T10:09:31.514Z 30377 TID-oup4sncls INFO: Scheduler exiting...
2018-01-29T10:09:31.619Z 30377 TID-oup4i01gc INFO: Pausing to allow workers to finish...
2018-01-29T10:09:32.960Z 30377 TID-oup4i01gc INFO: Bye!
2018-01-29T10:09:38.269Z 30493 TID-ovjzbuh58 INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-30493"}
2018-01-29T10:09:38.702Z 30493 TID-ovjzbuh58 INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:09:38.702Z 30493 TID-ovjzbuh58 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:09:38.702Z 30493 TID-ovjzbuh58 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:09:38.707Z 30493 TID-ovjzbuh58 INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:09:58.496Z 30493 TID-ovk00hk08 CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:09:58.507Z 30493 TID-ovk00hk08 CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.012 sec
2018-01-29T10:09:58.508Z 30493 TID-ovk00hk08 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220598.494776,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":4,"retried_at":1517220598.50686},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220598.494776,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3062122,\"retry_count\":3,\"retried_at\":1517220453.4941142}"}
2018-01-29T10:09:58.508Z 30493 TID-ovk00hk08 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:09:58.508Z 30493 TID-ovk00hk08 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:10:20.450Z 30493 TID-ovjzm1y7c CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:10:20.459Z 30493 TID-ovjzm1y7c CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.009 sec
2018-01-29T10:10:20.460Z 30493 TID-ovjzm1y7c WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517220620.44912,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":4,"retried_at":1517220620.459007},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517220620.44912,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.2970722,\"retry_count\":3,\"retried_at\":1517220436.268998}"}
2018-01-29T10:10:20.460Z 30493 TID-ovjzm1y7c WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:10:20.460Z 30493 TID-ovjzm1y7c WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:13:54.423Z 30493 TID-ovjzxtins CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: start
2018-01-29T10:13:54.433Z 30493 TID-ovjzxtins CouponWorker JID-d9c6f3a8f9d81050bb4fd6b8 INFO: fail: 0.01 sec
2018-01-29T10:13:54.434Z 30493 TID-ovjzxtins WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["hsg397nt9",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":40,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-09-01","property":12,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"d9c6f3a8f9d81050bb4fd6b8","created_at":1517219490.549129,"enqueued_at":1517220834.422454,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.298184,"retry_count":5,"retried_at":1517220834.432652},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"hsg397nt9\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":40,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-09-01\",\"property\":12,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"d9c6f3a8f9d81050bb4fd6b8\",\"created_at\":1517219490.549129,\"enqueued_at\":1517220834.422454,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.298184,\"retry_count\":4,\"retried_at\":1517220500.883137}"}
2018-01-29T10:13:54.434Z 30493 TID-ovjzxtins WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:13:54.434Z 30493 TID-ovjzxtins WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:14:35.118Z 30493 TID-ovjzzwztk CouponWorker JID-5e002551a6361d333332e453 INFO: start
2018-01-29T10:14:35.201Z 30493 TID-ovjzzwztk CouponWorker JID-5e002551a6361d333332e453 INFO: fail: 0.083 sec
2018-01-29T10:14:35.201Z 30493 TID-ovjzzwztk WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["1i9w70zsg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"5e002551a6361d333332e453","created_at":1517219760.438106,"enqueued_at":1517220875.116846,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.301684,"retry_count":5,"retried_at":1517220875.2006242},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"1i9w70zsg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"5e002551a6361d333332e453\",\"created_at\":1517219760.438106,\"enqueued_at\":1517220875.116846,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.301684,\"retry_count\":4,\"retried_at\":1517220519.365432}"}
2018-01-29T10:14:35.201Z 30493 TID-ovjzzwztk WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:14:35.201Z 30493 TID-ovjzzwztk WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:15:27.259Z 30493 TID-ovk05ptx8 CouponWorker JID-89510d5a664c823feaa5d461 INFO: start
2018-01-29T10:15:27.343Z 30493 TID-ovk05ptx8 CouponWorker JID-89510d5a664c823feaa5d461 INFO: fail: 0.083 sec
2018-01-29T10:15:27.343Z 30493 TID-ovjzy8ucw CouponWorker JID-79d80b3487d774de8792ae69 INFO: start
2018-01-29T10:15:27.343Z 30493 TID-ovk05ptx8 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["mxy9awcau",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":3,"user_id":null,"shop_id":null,"source_type":"Product","source_id":1},"5"],"retry":true,"queue":"default","jid":"89510d5a664c823feaa5d461","created_at":1517220052.093621,"enqueued_at":1517220927.2587352,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3062122,"retry_count":5,"retried_at":1517220927.341559},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"mxy9awcau\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":3,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":1},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"89510d5a664c823feaa5d461\",\"created_at\":1517220052.093621,\"enqueued_at\":1517220927.2587352,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3062122,\"retry_count\":4,\"retried_at\":1517220598.50686}"}
2018-01-29T10:15:27.344Z 30493 TID-ovjzy8ucw CouponWorker JID-79d80b3487d774de8792ae69 INFO: fail: 0.001 sec
2018-01-29T10:15:27.344Z 30493 TID-ovk05ptx8 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:15:27.344Z 30493 TID-ovjzy8ucw WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["vydskx5qh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":120,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":50,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"5"],"retry":true,"queue":"default","jid":"79d80b3487d774de8792ae69","created_at":1517219972.764695,"enqueued_at":1517220927.3422568,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.3025742,"retry_count":5,"retried_at":1517220927.34405},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"vydskx5qh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":120,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":50,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"5\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"79d80b3487d774de8792ae69\",\"created_at\":1517219972.764695,\"enqueued_at\":1517220927.3422568,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.3025742,\"retry_count\":4,\"retried_at\":1517220534.900396}"}
2018-01-29T10:15:27.344Z 30493 TID-ovk05ptx8 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:15:27.344Z 30493 TID-ovjzy8ucw WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:15:27.345Z 30493 TID-ovjzy8ucw WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:15:47.088Z 30493 TID-ovk0az63g CouponWorker JID-3e623d773111b0828b88616d INFO: start
2018-01-29T10:15:47.186Z 30493 TID-ovk0az63g CouponWorker JID-3e623d773111b0828b88616d INFO: fail: 0.098 sec
2018-01-29T10:15:47.186Z 30493 TID-ovk0az63g WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["3misu0ryf",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":20,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"3e623d773111b0828b88616d","created_at":1517219676.393601,"enqueued_at":1517220947.085831,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517220246.2970722,"retry_count":5,"retried_at":1517220947.184545},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"3misu0ryf\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":20,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"3e623d773111b0828b88616d\",\"created_at\":1517219676.393601,\"enqueued_at\":1517220947.085831,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517220246.2970722,\"retry_count\":4,\"retried_at\":1517220620.459007}"}
2018-01-29T10:15:47.186Z 30493 TID-ovk0az63g WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:15:47.186Z 30493 TID-ovk0az63g WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:16:51.577Z 30493 TID-ovjzbuh58 INFO: Shutting down
2018-01-29T10:16:51.578Z 30493 TID-ovjzbuh58 INFO: Terminating quiet workers
2018-01-29T10:16:51.578Z 30493 TID-ovjzxtn4w INFO: Scheduler exiting...
2018-01-29T10:16:51.684Z 30493 TID-ovjzbuh58 INFO: Pausing to allow workers to finish...
2018-01-29T10:16:51.993Z 30493 TID-ovjzbuh58 INFO: Bye!
2018-01-29T10:18:01.468Z 30607 TID-ovl7ijtc4 INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-30607"}
2018-01-29T10:18:01.866Z 30607 TID-ovl7ijtc4 INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:18:01.867Z 30607 TID-ovl7ijtc4 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:18:01.867Z 30607 TID-ovl7ijtc4 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:18:01.874Z 30607 TID-ovl7ijtc4 INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:25:21.782Z 30607 TID-ovl878fm4 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: start
2018-01-29T10:25:21.872Z 30607 TID-ovl878fm4 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: fail: 0.09 sec
2018-01-29T10:25:21.872Z 30607 TID-ovl878fm4 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["daqiskuuh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"72f8091eb3b7c01064efc6bf","created_at":1517221521.778594,"enqueued_at":1517221521.779101,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221521.872032,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"daqiskuuh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"72f8091eb3b7c01064efc6bf\",\"created_at\":1517221521.778594,\"enqueued_at\":1517221521.779101}"}
2018-01-29T10:25:21.872Z 30607 TID-ovl878fm4 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:25:21.872Z 30607 TID-ovl878fm4 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:26:09.555Z 30607 TID-ovl84sao0 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: start
2018-01-29T10:26:09.557Z 30607 TID-ovl84sao0 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: fail: 0.002 sec
2018-01-29T10:26:09.557Z 30607 TID-ovl84sao0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["daqiskuuh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"72f8091eb3b7c01064efc6bf","created_at":1517221521.778594,"enqueued_at":1517221569.554528,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221521.872032,"retry_count":1,"retried_at":1517221569.557056},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"daqiskuuh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"72f8091eb3b7c01064efc6bf\",\"created_at\":1517221521.778594,\"enqueued_at\":1517221569.554528,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221521.872032,\"retry_count\":0}"}
2018-01-29T10:26:09.557Z 30607 TID-ovl84sao0 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:26:09.557Z 30607 TID-ovl84sao0 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:26:39.620Z 30607 TID-ovl7t8pa0 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: start
2018-01-29T10:26:39.621Z 30607 TID-ovl7t8pa0 CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: fail: 0.001 sec
2018-01-29T10:26:39.622Z 30607 TID-ovl7t8pa0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["daqiskuuh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"72f8091eb3b7c01064efc6bf","created_at":1517221521.778594,"enqueued_at":1517221599.617863,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221521.872032,"retry_count":2,"retried_at":1517221599.6213179},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"daqiskuuh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"72f8091eb3b7c01064efc6bf\",\"created_at\":1517221521.778594,\"enqueued_at\":1517221599.617863,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221521.872032,\"retry_count\":1,\"retried_at\":1517221569.557056}"}
2018-01-29T10:26:39.622Z 30607 TID-ovl7t8pa0 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:26:39.622Z 30607 TID-ovl7t8pa0 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:27:17.639Z 30607 TID-ovl83k7pg CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: start
2018-01-29T10:27:17.641Z 30607 TID-ovl83k7pg CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: fail: 0.001 sec
2018-01-29T10:27:17.641Z 30607 TID-ovl83k7pg WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["daqiskuuh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"72f8091eb3b7c01064efc6bf","created_at":1517221521.778594,"enqueued_at":1517221637.6382349,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221521.872032,"retry_count":3,"retried_at":1517221637.640618},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"daqiskuuh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"72f8091eb3b7c01064efc6bf\",\"created_at\":1517221521.778594,\"enqueued_at\":1517221637.6382349,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221521.872032,\"retry_count\":2,\"retried_at\":1517221599.6213179}"}
2018-01-29T10:27:17.641Z 30607 TID-ovl83k7pg WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:27:17.641Z 30607 TID-ovl83k7pg WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:6:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:30:11.977Z 30607 TID-ovl878fbk CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: start
2018-01-29T10:30:12.050Z 30607 TID-ovl878fbk CouponWorker JID-72f8091eb3b7c01064efc6bf INFO: fail: 0.073 sec
2018-01-29T10:30:12.050Z 30607 TID-ovl878fbk WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["daqiskuuh",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"substraction","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-10-01","property":5,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"3"],"retry":true,"queue":"default","jid":"72f8091eb3b7c01064efc6bf","created_at":1517221521.778594,"enqueued_at":1517221811.9763799,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221521.872032,"retry_count":4,"retried_at":1517221812.049846},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"daqiskuuh\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"substraction\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-10-01\",\"property\":5,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"3\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"72f8091eb3b7c01064efc6bf\",\"created_at\":1517221521.778594,\"enqueued_at\":1517221811.9763799,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221521.872032,\"retry_count\":3,\"retried_at\":1517221637.640618}"}
2018-01-29T10:30:12.051Z 30607 TID-ovl878fbk WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:30:12.051Z 30607 TID-ovl878fbk WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:5:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:32:55.756Z 30607 TID-ovl86onrg CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: start
2018-01-29T10:32:55.858Z 30607 TID-ovl86onrg CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: fail: 0.102 sec
2018-01-29T10:32:55.858Z 30607 TID-ovl86onrg WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["n7hnwc2wj",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-07-01","property":4,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"2"],"retry":true,"queue":"default","jid":"cdf81bdad2b4ae854374ee2c","created_at":1517221975.7557561,"enqueued_at":1517221975.7558138,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221975.857952,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"n7hnwc2wj\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-07-01\",\"property\":4,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"2\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"cdf81bdad2b4ae854374ee2c\",\"created_at\":1517221975.7557561,\"enqueued_at\":1517221975.7558138}"}
2018-01-29T10:32:55.858Z 30607 TID-ovl86onrg WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:32:55.858Z 30607 TID-ovl86onrg WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:5:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:33:28.579Z 30607 TID-ovl8femw8 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: start
2018-01-29T10:33:28.580Z 30607 TID-ovl8femw8 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: fail: 0.002 sec
2018-01-29T10:33:28.581Z 30607 TID-ovl8femw8 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["n7hnwc2wj",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-07-01","property":4,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"2"],"retry":true,"queue":"default","jid":"cdf81bdad2b4ae854374ee2c","created_at":1517221975.7557561,"enqueued_at":1517222008.578384,"error_message":"wrong number of arguments (given 3, expected 0..1)","error_class":"ArgumentError","failed_at":1517221975.857952,"retry_count":1,"retried_at":1517222008.580545},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"n7hnwc2wj\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-07-01\",\"property\":4,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"2\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"cdf81bdad2b4ae854374ee2c\",\"created_at\":1517221975.7557561,\"enqueued_at\":1517222008.578384,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221975.857952,\"retry_count\":0}"}
2018-01-29T10:33:28.581Z 30607 TID-ovl8femw8 WARN: ArgumentError: wrong number of arguments (given 3, expected 0..1)
2018-01-29T10:33:28.581Z 30607 TID-ovl8femw8 WARN: /Users/xiaoliang/.rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/logger.rb:488:in `info'
/Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:5:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:34:28.718Z 30607 TID-ovl7t68y0 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: start
2018-01-29T10:34:28.793Z 30607 TID-ovl7t68y0 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: fail: 0.075 sec
2018-01-29T10:34:28.793Z 30607 TID-ovl7t68y0 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["n7hnwc2wj",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-07-01","property":4,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"2"],"retry":true,"queue":"default","jid":"cdf81bdad2b4ae854374ee2c","created_at":1517221975.7557561,"enqueued_at":1517222068.715672,"error_message":"undefined method `times' for \"2\":String","error_class":"NoMethodError","failed_at":1517221975.857952,"retry_count":2,"retried_at":1517222068.79284},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"n7hnwc2wj\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-07-01\",\"property\":4,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"2\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"cdf81bdad2b4ae854374ee2c\",\"created_at\":1517221975.7557561,\"enqueued_at\":1517222068.715672,\"error_message\":\"wrong number of arguments (given 3, expected 0..1)\",\"error_class\":\"ArgumentError\",\"failed_at\":1517221975.857952,\"retry_count\":1,\"retried_at\":1517222008.580545}"}
2018-01-29T10:34:28.793Z 30607 TID-ovl7t68y0 WARN: NoMethodError: undefined method `times' for "2":String
2018-01-29T10:34:28.793Z 30607 TID-ovl7t68y0 WARN: /Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:7:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:35:03.959Z 30607 TID-ovl7ijtc4 INFO: Shutting down
2018-01-29T10:35:03.959Z 30607 TID-ovl7ijtc4 INFO: Terminating quiet workers
2018-01-29T10:35:03.959Z 30607 TID-ovl878fwo INFO: Scheduler exiting...
2018-01-29T10:35:04.060Z 30607 TID-ovl7ijtc4 INFO: Pausing to allow workers to finish...
2018-01-29T10:35:05.916Z 30607 TID-ovl7ijtc4 INFO: Bye!
2018-01-29T10:35:10.593Z 31643 TID-ox519csp8 INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-31643"}
2018-01-29T10:35:10.946Z 31643 TID-ox519csp8 INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:35:10.946Z 31643 TID-ox519csp8 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:35:10.946Z 31643 TID-ox519csp8 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:35:10.952Z 31643 TID-ox519csp8 INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:35:51.530Z 31643 TID-ox51uv024 CouponWorker JID-2b16dc28e46a3cfa8ad6e49b INFO: start
2018-01-29T10:35:51.535Z 31643 TID-ox51uv024 CouponWorker JID-2b16dc28e46a3cfa8ad6e49b INFO: fail: 0.005 sec
2018-01-29T10:35:51.536Z 31643 TID-ox51uv024 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["eqrdz0arg",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":10,"channel":null,"description":null,"status":"initial","start_date":"2018-01-30","end_date":"2018-07-01","property":2,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"2"],"retry":true,"queue":"default","jid":"2b16dc28e46a3cfa8ad6e49b","created_at":1517222151.529554,"enqueued_at":1517222151.5296052,"error_message":"undefined method `times' for \"2\":String","error_class":"NoMethodError","failed_at":1517222151.534873,"retry_count":0},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"eqrdz0arg\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":10,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-30\",\"end_date\":\"2018-07-01\",\"property\":2,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"2\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"2b16dc28e46a3cfa8ad6e49b\",\"created_at\":1517222151.529554,\"enqueued_at\":1517222151.5296052}"}
2018-01-29T10:35:51.536Z 31643 TID-ox51uv024 WARN: NoMethodError: undefined method `times' for "2":String
2018-01-29T10:35:51.536Z 31643 TID-ox51uv024 WARN: /Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:7:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:36:15.888Z 31643 TID-ox5218vw4 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: start
2018-01-29T10:36:15.892Z 31643 TID-ox5218vw4 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: fail: 0.004 sec
2018-01-29T10:36:15.892Z 31643 TID-ox5218vw4 WARN: {"context":"Job raised exception","job":{"class":"CouponWorker","args":["n7hnwc2wj",{"order_id":null,"uid":null,"batch_num":null,"name":null,"range_type":"single","limit":"discount","limit_val":30,"channel":null,"description":null,"status":"initial","start_date":"2018-01-31","end_date":"2018-07-01","property":4,"user_id":null,"shop_id":null,"source_type":"Product","source_id":2},"2"],"retry":true,"queue":"default","jid":"cdf81bdad2b4ae854374ee2c","created_at":1517221975.7557561,"enqueued_at":1517222175.8859708,"error_message":"undefined method `times' for \"2\":String","error_class":"NoMethodError","failed_at":1517221975.857952,"retry_count":3,"retried_at":1517222175.891477},"jobstr":"{\"class\":\"CouponWorker\",\"args\":[\"n7hnwc2wj\",{\"order_id\":null,\"uid\":null,\"batch_num\":null,\"name\":null,\"range_type\":\"single\",\"limit\":\"discount\",\"limit_val\":30,\"channel\":null,\"description\":null,\"status\":\"initial\",\"start_date\":\"2018-01-31\",\"end_date\":\"2018-07-01\",\"property\":4,\"user_id\":null,\"shop_id\":null,\"source_type\":\"Product\",\"source_id\":2},\"2\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"cdf81bdad2b4ae854374ee2c\",\"created_at\":1517221975.7557561,\"enqueued_at\":1517222175.8859708,\"error_message\":\"undefined method `times' for \\\"2\\\":String\",\"error_class\":\"NoMethodError\",\"failed_at\":1517221975.857952,\"retry_count\":2,\"retried_at\":1517222068.79284}"}
2018-01-29T10:36:15.892Z 31643 TID-ox5218vw4 WARN: NoMethodError: undefined method `times' for "2":String
2018-01-29T10:36:15.892Z 31643 TID-ox5218vw4 WARN: /Users/xiaoliang/Personal/Project/rails/shop/app/workers/coupon_worker.rb:7:in `perform'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:199:in `execute_job'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:169:in `block in process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:141:in `block (6 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:97:in `local'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:140:in `block (5 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:42:in `block in call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:68:in `block in wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/execution_wrapper.rb:85:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/activesupport-5.0.3/lib/active_support/reloader.rb:67:in `wrap'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/rails.rb:41:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:136:in `block (4 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:215:in `stats'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:131:in `block (3 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_logger.rb:7:in `call'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:130:in `block (2 levels) in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/job_retry.rb:72:in `global'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:129:in `block in dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:44:in `with_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/logging.rb:38:in `with_job_hash_context'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:128:in `dispatch'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:168:in `process'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:85:in `process_one'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/processor.rb:73:in `run'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:16:in `watchdog'
/Users/xiaoliang/.rvm/gems/ruby-2.3.0/gems/sidekiq-5.0.4/lib/sidekiq/util.rb:25:in `block in safe_thread'
2018-01-29T10:36:30.585Z 31643 TID-ox51uuzw0 CouponWorker JID-2b16dc28e46a3cfa8ad6e49b INFO: start
2018-01-29T10:36:31.082Z 31643 TID-ox51uuzw0 CouponWorker JID-2b16dc28e46a3cfa8ad6e49b INFO: done: 0.497 sec
2018-01-29T10:36:40.418Z 31643 TID-ox519csp8 INFO: Shutting down
2018-01-29T10:36:40.418Z 31643 TID-ox519csp8 INFO: Terminating quiet workers
2018-01-29T10:36:40.418Z 31643 TID-ox51uvojs INFO: Scheduler exiting...
2018-01-29T10:36:40.519Z 31643 TID-ox519csp8 INFO: Pausing to allow workers to finish...
2018-01-29T10:36:41.454Z 31643 TID-ox519csp8 INFO: Bye!
2018-01-29T10:36:49.633Z 31674 TID-oxkmd1ovw INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-31674"}
2018-01-29T10:36:50.005Z 31674 TID-oxkmd1ovw INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:36:50.006Z 31674 TID-oxkmd1ovw INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:36:50.006Z 31674 TID-oxkmd1ovw INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:36:50.015Z 31674 TID-oxkmd1ovw INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:38:04.579Z 31674 TID-oxkmbboz0 CouponWorker JID-4bf7b415db44bb3ca8954a55 INFO: start
2018-01-29T10:38:05.134Z 31674 TID-oxkmbboz0 CouponWorker JID-4bf7b415db44bb3ca8954a55 INFO: done: 0.555 sec
2018-01-29T10:38:50.983Z 31674 TID-oxkmbboz0 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: start
2018-01-29T10:38:50.991Z 31674 TID-oxkmbboz0 CouponWorker JID-cdf81bdad2b4ae854374ee2c INFO: done: 0.008 sec
2018-01-29T10:40:31.362Z 31674 TID-oxkmbbp54 CouponWorker JID-76ce7f0e9ecb6594fa299dfa INFO: start
2018-01-29T10:40:31.547Z 31674 TID-oxkmbbp54 CouponWorker JID-76ce7f0e9ecb6594fa299dfa INFO: done: 0.185 sec
2018-01-29T10:48:15.679Z 31674 TID-oxkmd1ovw INFO: Shutting down
2018-01-29T10:48:15.705Z 31674 TID-oxkmd1ovw INFO: Terminating quiet workers
2018-01-29T10:48:15.706Z 31674 TID-oxkmbbpdg INFO: Scheduler exiting...
2018-01-29T10:48:15.807Z 31674 TID-oxkmd1ovw INFO: Pausing to allow workers to finish...
2018-01-29T10:48:17.245Z 31674 TID-oxkmd1ovw INFO: Bye!
2018-01-29T10:48:22.686Z 31877 TID-own18p3cc INFO: Booting Sidekiq 5.0.4 with redis options {:url=>"redis:127.0.0.1:6379/2", :namespace=>"plavest", :id=>"Sidekiq-server-PID-31877"}
2018-01-29T10:48:23.101Z 31877 TID-own18p3cc INFO: Running in ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin17]
2018-01-29T10:48:23.101Z 31877 TID-own18p3cc INFO: See LICENSE and the LGPL-3.0 for licensing details.
2018-01-29T10:48:23.101Z 31877 TID-own18p3cc INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2018-01-29T10:48:23.112Z 31877 TID-own18p3cc INFO: Starting processing, hit Ctrl-C to stop
2018-01-29T10:48:35.885Z 31877 TID-own232prc CouponWorker JID-ffdf5bc58e87d092f63e10db INFO: start
2018-01-29T10:48:36.392Z 31877 TID-own232prc CouponWorker JID-ffdf5bc58e87d092f63e10db INFO: done: 0.507 sec
